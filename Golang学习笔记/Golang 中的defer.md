#### Golang 中的defer 

defer语句会将其后面跟随的语句进行延迟处理，一般用来处理资源的释放，如: 资源清理，文件句柄关闭，解锁及时间记录等



##### defer 的执行时机

在go语言的函数中return 语句在底层并不是原子操作，分为给返回值赋值和RET指令两步。defer语句的执行实际就在返回值赋值操作后，RET指令执行前。

![image-20200315115506022](./asset/20200315115556.png)

